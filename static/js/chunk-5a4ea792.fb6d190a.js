(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a4ea792"],{4274:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-classic-wrapper"},[i("el-card",{attrs:{shadow:"always"}},[i("div",{staticClass:"control-btns"},[i("el-button",{attrs:{type:"primary",editIndex:"1"},on:{click:e.addBtn}},[e._v("添加数据")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"medium"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"60"}}),i("el-table-column",{attrs:{prop:"id",label:"编号",align:"center",width:"120",sortable:""}}),i("el-table-column",{attrs:{prop:"url",label:"图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("img",{staticStyle:{"max-height":"129px","max-width":"60px"},attrs:{src:t.url}})]}}])}),i("el-table-column",{attrs:{prop:"url",label:"图片地址",align:"center"}}),i("el-table-column",{attrs:{prop:"type",label:"状态",align:"center"}}),i("el-table-column",{attrs:{label:"禁止编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{on:{change:function(i){return e.stateChange(t.row)}},model:{value:t.row.forbid,callback:function(i){e.$set(t.row,"forbid",i)},expression:"scope.row.forbid"}})]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",disabled:t.row.forbid},on:{click:function(i){return e.bianjifun(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.serveDelFun(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.pagecount,"page-size":e.pagelimit,"current-page":e.page},on:{"current-change":e.pageFun}}),i("el-dialog",{staticClass:"dialog-form",attrs:{title:"新增",visible:e.formVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.formVisible=t}}},[i("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.formRules,"label-width":"100px","label-height":"500px"}},[i("el-form-item",{attrs:{label:"服务的图片",prop:"url"}},[i("el-input",{model:{value:e.dialogForm.url,callback:function(t){e.$set(e.dialogForm,"url",t)},expression:"dialogForm.url"}})],1),i("el-form-item",{attrs:{label:"服务的名字",prop:"name"}},[i("el-input",{model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1),i("el-form-item",{attrs:{label:"服务详情描述",prop:"details"}},[i("el-input",{model:{value:e.dialogForm.details,callback:function(t){e.$set(e.dialogForm,"details",t)},expression:"dialogForm.details"}})],1),i("el-form-item",{attrs:{label:"单价",prop:"price"}},[i("el-input",{model:{value:e.dialogForm.price,callback:function(t){e.$set(e.dialogForm,"price",t)},expression:"dialogForm.price"}})],1),i("el-form-item",{attrs:{label:"类型",prop:"type"}},[i("el-input",{attrs:{placeholder:"1:代购,2:代排队,3:代送,4:租赁,5:快递代取"},model:{value:e.dialogForm.type,callback:function(t){e.$set(e.dialogForm,"type",t)},expression:"dialogForm.type"}})],1),i("div",{staticClass:"footer-item"},[i("el-button",{on:{click:e.cancleForm}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary",disabled:e.isSubmit},on:{click:function(t){return e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1)],1),i("div",{class:0==e.type?"a":"b",attrs:{id:"overlay"}},[i("div",{attrs:{id:"dialog"}},[i("h2",[e._v("图片修改")]),e._v(" 图片： "),i("el-input",{model:{value:e.serviceimg,callback:function(t){e.serviceimg=t},expression:"serviceimg"}}),i("br"),e._v("名字： "),i("el-input",{model:{value:e.serviceName,callback:function(t){e.serviceName=t},expression:"serviceName"}}),i("br"),e._v("详情： "),i("el-input",{model:{value:e.serviceDetails,callback:function(t){e.serviceDetails=t},expression:"serviceDetails"}}),i("br"),e._v("单价： "),i("el-input",{model:{value:e.servicePrice,callback:function(t){e.servicePrice=t},expression:"servicePrice"}}),i("br"),e._v("类型：(1:代购,2:代排队,3:代送,4:租赁,5:快递代取) "),i("el-input",{model:{value:e.serviceType,callback:function(t){e.serviceType=t},expression:"serviceType"}}),i("br"),i("el-button",{staticClass:"xiugai",attrs:{type:"primary",round:""},on:{click:e.modifyFun}},[e._v("确认修改")]),i("el-button",{staticClass:"quxiao",attrs:{type:"primary",round:""},on:{click:e.cancelFun}},[e._v("取消修改")])],1)])],1)},o=[],a=(i("b0c0"),i("9f30")),r=i("bc3a"),l=i.n(r);function c(e){return l()({url:"https://cdn.jsdelivr.net/gh/baimingxuan/media-store/mock-data/table-list.json",method:"get",param:e})}var s={name:"Table",data:function(){return{page:1,pagelimit:4,pagecount:0,imgID:"",serviceimg:"",serviceName:"",serviceDetails:"",servicePrice:"",serviceType:"",nextpage:"",title:"",type:0,listLoading:!0,dialogForm:{},total:0,id:"",tableData:[],deltab:[],multipleSelection:[],formVisible:!1,isSubmit:!1}},created:function(){this.serveListFun()},methods:{bianjifun:function(e){var t=this;console.log(e),Object(a["e"])().then((function(i){console.log(i.data.data[e]),t.imgID=i.data.data[e].id,t.serviceimg=i.data.data[e].url,t.serviceName=i.data.data[e].name,t.serviceDetails=i.data.data[e].details,t.serviceType=i.data.data[e].type,t.servicePrice=i.data.data[e].price})).catch((function(){t.listLoading=!1})),this.type=1},modifyFun:function(){var e=this,t={url:this.serviceimg,name:this.serviceName,id:this.imgID,details:this.serviceDetails,price:this.servicePrice,type:this.serviceType};Object(a["g"])(t).then((function(t){console.log(t),e.serveListFun()})),this.type=0},cancelFun:function(){this.type=0},handleSelectionChange:function(e){this.multipleSelection=e},addBtn:function(){this.title="添加",this.formVisible=!0},serveDelFun:function(e,t){var i=this,n=this.tableData[e].id;this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["d"])(n).then((function(e){i.serveListFun(),console.log(e),i.$message({type:"success",message:"删除成功!"})}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},handleClose:function(){this.formVisible=!1,this.$refs.dialogForm.resetFields()},serveListFun:function(){var e=this;this.listLoading=!0,c(this.dialogForm);var t=this.page,i=this.pagelimit;Object(a["i"])({page:t,pagelimit:i}).then((function(t){console.log(t.data.pagecount),0===t.code&&(e.tableData=t.data.data,e.listLoading=!1,e.pagecount=t.data.pagecount,console.log(e.tableData))})).catch((function(){e.listLoading=!1}))},pageFun:function(e){console.log(e),this.page=e,this.serveListFun()},submitForm:function(e){var t=this,i={url:this.dialogForm.url,name:this.dialogForm.name,details:this.dialogForm.details,price:this.dialogForm.price,type:this.dialogForm.type};this.$refs[e].validate((function(e){if(!e)return t.isSubmit=!1,!1;addServeFun(i).then((function(e){console.log(e),t.serveListFun()})),t.formVisible=!1}))},cancleForm:function(){this.$refs.dialogForm.resetFields(),this.formVisible=!1}}},u=s,d=(i("6d09"),i("2877")),m=Object(d["a"])(u,n,o,!1,null,null,null);t["default"]=m.exports},"6d09":function(e,t,i){"use strict";i("dede")},"9f30":function(e,t,i){"use strict";i.d(t,"f",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"j",(function(){return s})),i.d(t,"a",(function(){return u})),i.d(t,"h",(function(){return d})),i.d(t,"c",(function(){return m})),i.d(t,"i",(function(){return f})),i.d(t,"d",(function(){return p})),i.d(t,"e",(function(){return g})),i.d(t,"g",(function(){return h}));i("d3b7");var n=i("bc3a"),o=i.n(n);function a(e,t){return new Promise((function(i,n){o.a.get(e,{params:t,headers:{token:sessionStorage.getItem("token")}}).then((function(e){i(e.data)})).catch((function(e){n(e.data)}))}))}function r(e,t){return new Promise((function(i,n){o()({method:"post",url:e,data:t}).then((function(e){i(e.data)})).catch((function(e){n(e.data)}))}))}function l(){return new Promise((function(e,t){a("/index/Yimi/getTuList").then((function(t){e(t)})).catch((function(e){t(e)}))}))}function c(e){return new Promise((function(t,i){r("/index/Yimi/delTu?id=".concat(e)).then((function(e){console.log(e),t(e)})).catch((function(e){i(e)}))}))}function s(e){return new Promise((function(t,i){r("/index/upload/uploadimg",{imgurl:e}).then((function(e){console.log(e),t(e)})).catch((function(e){i(e)}))}))}function u(e,t){return new Promise((function(i,n){r("/index/Yimi/addTu",{imgurl:e,type:t}).then((function(e){console.log(e),i(e)})).catch((function(e){n(e)}))}))}function d(e){var t=e.page,i=e.pagelimit;return new Promise((function(e,n){r("/index/Yimi/getOrderList",{page:t,pagelimit:i}).then((function(t){console.log(t),e(t)})).catch((function(e){n(e)}))}))}function m(e){return new Promise((function(t,i){r("/index/Yimi/delOrder?id=".concat(e)).then((function(e){console.log(e),t(e)})).catch((function(e){i(e)}))}))}function f(e){var t=e.page,i=e.pagelimit;return new Promise((function(e,n){r("/index/Yimi/getGoodsList",{page:t,pagelimit:i}).then((function(t){console.log(t),e(t)})).catch((function(e){n(e)}))}))}function p(e){return new Promise((function(t,i){r("/index/Yimi/delGoods?id=".concat(e)).then((function(e){console.log(e),t(e)})).catch((function(e){i(e)}))}))}function g(){return new Promise((function(e,t){a("/index/Yimi/getGoodsList").then((function(t){e(t)})).catch((function(e){t(e)}))}))}function h(e){return new Promise((function(t,i){r("/index/Yimi/addGoods",e).then((function(e){console.log(e),t(e)})).catch((function(e){i(e)}))}))}o.a.defaults.timeout=3e3,o.a.defaults.baseURL="https://testshool.zzgoodqc.cn/index.php",o.a.interceptors.response.use((function(e){if(200==e.status)return e}),(function(e){return Promise.reject(e)}))},dede:function(e,t,i){}}]);